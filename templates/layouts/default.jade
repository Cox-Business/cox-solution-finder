include ../mixins/flash-messages
include ../mixins/navigation-modal
include ../mixins/media-buffet
include ../mixins/industry-content
include ../mixins/product
include ../mixins/service-content
include ../mixins/service-list
include ../mixins/resources
include ../mixins/video


//- Inits
- var navigationLinks = navLinks

doctype html
html

	//- HTML HEADER
	head
		meta(charset="utf-8")
		meta(name="viewport", content="width=device-width, initial-scale=1.0")
		meta(http-equiv="X-UA-Compatible" content="IE=edge")

		title= title || 'Cox Solution Finder'
		link(rel="shortcut icon", href="/favicon.ico", type="image/x-icon")

		//- VideoJS
		link(href="/styles/videojs/video-js.min.css", rel="stylesheet")
		script(src='/js/lib/videojs/video.js')

		link(href="/styles/companion-site/fonts.css", rel="stylesheet")
		link(href="/styles/site.min.css", rel="stylesheet")

		//- This file provides the default styling for the KeystoneJS Content Editor
		if user && user.canAccessKeystone
			link(href="/keystone/styles/content/editor.min.css", rel="stylesheet")

		//- Include template-specific stylesheets by extending the css block
		block css

		//- Add any other template-specific HEAD tags by extending the head block
		block head

	//- HTML BODY
	body.companion-site

		//- HEADER
		header#header

			.visible-md.visible-lg

				a.navigation-item.navigation-logo(href='/')
					.navigation-solution-finder Solution
						span Finder
				ul.navigation-item-list
					each link in navLinks
						if link.type == 'page'
							li(class=(section == link.key ? 'active' : null))
								a.navigation-item(href=link.href)= link.label
						if link.type == 'modal'
							li(class=(section == link.key ? 'active' : null))
								a.navigation-item.navigation-modal-item(data-navigation-modal-item=link.key)= link.label

				.navigation-phone-cta-desktop
					img(src="/images/phone-cta-icon.png")
					.cta-text-container
						span Let's Talk.
						span 800-123-1234



			.visible-xs.visible-sm

				button.navigation-toggle
					span.icon-bar
					span.icon-bar
					span.icon-bar
				.navigation-mobile-background

				a.navigation-item.navigation-logo-mobile(href='/')

				nav(role="navigation").navigation-mobile
					ul
						each link in navigationLinks
							li(class=(section == link.key ? 'active' : null))
								if link.type == 'modal'
									if link.key == 'services'
										a.navigation-item.has-menu= link.label
										ul.navigation-mobile-sub-menu.row
											each item, index in data.navigation_services
												li.col-xs-6
													a(href='/'+link.key+'/'+item.slug title=item.title).navigation-mobile-tile
														.navigation-mobile-icon.coxicon(class="coxicon_"+item.svg_icon)
														.navigation-mobile-title
															span= item.title
									else if link.key == 'industries'
										a.navigation-item.has-menu= link.label
										ul.navigation-mobile-sub-menu.row
											each item, index in data.navigation_industries
												li.col-xs-6
													a(href='/'+link.key+'/'+item.slug title=item.title).navigation-mobile-tile
														.navigation-mobile-icon.coxicon(class="coxicon_"+item.svg_icon)
														.navigation-mobile-title
															span= item.title
									
								else
									a.navigation-item(href=link.href)= link.label



				a(href="tel:18001231234" title="Chat with Us").navigation-phone-cta


		//- Generates the Navigation Modals for Services and Industries
		each navigationModal in navigationLinks
			if navigationModal.type == 'modal'
				if navigationModal.key == 'services'
					+tiles-companion(data.navigation_services, navigationModal.key)
				if navigationModal.key == 'industries'
					+tiles-companion(data.navigation_industries, navigationModal.key)

		.navigation-mobile-body-background


		//- BODY
		main#body.the-looking-glass

			.the-looking-glass-overlay
	
			


			//- The Intro block appears above flash messages (used for temporary information display)
			block intro

			//- Flash messages allow you to display once-off status messages to users, e.g. form
			//- validation errors, success messages, etc.
			+flash-messages(messages)

			//- Unlike the showroom template, all containers are within the content blocks
			block content


			//- FOOTER
			footer.container-fluid: #footer.container
				.row
					.col-xs-12.col-md-2
						.footer-logo
					ul.col-xs-12.col-md-7
						li: a(href="http://www.google.com").footer-item Newsroom
						li: a(href="http://www.google.com").footer-item Careers
						li: a(href="http://www.google.com").footer-item Investors
						li: a(href="http://www.google.com").footer-item Contact Us
						li: a(href="http://www.google.com").footer-item Privacy Policy
					.col-xs-12.col-md-3
						small.footer-item &copy; 1998-2015 Cox Communications
			
		//- Add your modals here
		block modals
			+videoModal

		//- JAVASCRIPT
		script(src='/js/lib/jquery/jquery-2.1.1.min.js')

		//- Customise which Bootstrap javascript files are served by including
		//- them specifically here, instead of bootstrap-3.2.0.min.js
		script(src='/js/lib/bootstrap/bootstrap-3.2.0.min.js')

		//- The KeystoneJS Content Editor provides support for ks-editable data attributes,
		//- which generate links to edit content for users who can access Keystone
		if user && user.canAccessKeystone
			script(src='/keystone/js/content/editor.js')

		//- Add scripts that are globally required by your site here.
		script(src='/js/site/app.js')

		//- Include template-specific javascript files by extending the js block
		block js