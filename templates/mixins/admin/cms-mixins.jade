include site-icons
include validation
include heading
include text-field
include textarea
include s3file
include svg_icon
include boolean
include resource
include industries

mixin cms-field(item, complexFields)
	if(item.type == 'heading')
		+heading(item)
	else if (item.type == 'field' && (item.field.path.indexOf('resource_one') == 0 || item.field.path.indexOf('resource_two') == 0 || item.field.path.indexOf('resource_three') == 0 || item.field.path.indexOf('resource_four') == 0))
			if(complexFields.length == 0)
				- complexFields.push(item)
			else if(complexFields[0]['field']['path'].split('.')[0] == item.field.path.split('.')[0])
				- complexFields.push(item)
			else
				+resource(complexFields, resourceHeaderDisplayed)
				- complexFields.push(item)

	else if(item.type == 'field' && complexFields.length && complexFields[0]['field']['path'].split('.')[0] != item.field.path.split('.')[0])
		+resource(complexFields)

	else
		+draw-field(item)

mixin draw-field(item)

		if(item.type == 'field' && item.field.type == 'text' && !item.field.noedit && item.field.options.m_cms)
			+text-field(item)

		else if(item.type == 'field' && item.field.type == 'textarea' && !item.field.noedit && item.field.options.m_cms)
			+textarea(item)

		else if(item.type == 'field' && item.field.type == 's3file' && !item.field.noedit && item.field.options.m_cms)
			//- +s3file(item)

		else if(item.type == 'field' && item.field.type == 'select' && !item.field.noedit && item.field.options.m_cms && item.field.path.indexOf('svg_icon') >= 0)
			+svg_icon(item)
		else if(item.type == 'field' && item.field.type == 'boolean' && !item.field.noedit && item.field.options.m_cms)
			+boolean(item)
		else if(item.type == 'field' && item.field.type == 'relationship' && !item.field.noedit && item.field.options.m_cms && item.field.path == 'industries')
			+industries(item)


		else
			p="## - " + item.field.path
			p="## - " + item.field.type
			p|="## - " +  !{JSON.stringify(item.field.options.m_cms)}